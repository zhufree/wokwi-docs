import React from 'react';

export interface ILEDProps {
  color?: string;
  brightness?: number;
  style?: React.CSSProperties;
}

const lightColors: { [key: string]: string } = {
  red: '#ff8080',
  green: '#80ff80',
  blue: '#8080ff',
  yellow: '#ffff80',
  orange: '#ffcf80',
  purple: 'pink',
  white: '#ffffff',
};

export function LED({ color = 'red', brightness = 0, style }: ILEDProps) {
  const opacity = brightness ? 0.3 + brightness * 0.7 : 0;
  const lightOn = brightness > Number.EPSILON;

  return (
    <svg width={32} viewBox="-10 -5 35.456 39.618" xmlns="http://www.w3.org/2000/svg" style={style}>
      <filter id="b" x={-0.8} y={-0.8} height={2.2} width={2.8}>
        <feGaussianBlur stdDeviation={2} />
      </filter>
      <filter id="a" x={-0.8} y={-0.8} height={2.2} width={2.8}>
        <feGaussianBlur stdDeviation={4} />
      </filter>
      <path
        fill="#8c8c8c"
        d="M3.451 19.379h2.151v9.827H3.451zM12.608 29.618c0-1.174-.868-2.513-1.892-3.402-.416-.368-1.2-1.002-1.2-1.425v-5.47h-2.16v5.78c0 1.058.947 1.878 1.946 2.747.444.376 1.348 1.25 1.348 1.77"
      />
      <path
        d="M14.173 13.001V7.088A7.087 7.087 0 1 0 0 7.088v13.65c1.474 1.65 4.097 2.752 7.088 2.752 4.619 0 8.368-2.618 8.368-5.86v-1.523c0-1.143-.474-2.204-1.283-3.106z"
        opacity={0.3}
      />
      <path
        d="M14.173 13.001V7.088A7.087 7.087 0 1 0 0 7.088v13.65c1.474 1.65 4.097 2.752 7.088 2.752 4.619 0 8.368-2.618 8.368-5.86v-1.523c0-1.143-.474-2.204-1.283-3.106z"
        fill="#e6e6e6"
        opacity={0.5}
      />
      <path
        d="M14.173 13.001v3.105c0 2.74-3.166 4.965-7.085 4.965C3.175 21.072 0 18.852 0 16.107v4.63c1.474 1.652 4.097 2.753 7.088 2.753 4.619 0 8.368-2.618 8.368-5.859v-1.523c0-1.142-.474-2.204-1.283-3.106z"
        fill="#d1d1d1"
        opacity={0.9}
      />
      <path
        d="M14.173 13.001v3.105c0 2.74-3.166 4.965-7.085 4.965C3.175 21.072 0 18.852 0 16.107v4.63c1.474 1.652 4.097 2.753 7.088 2.753 4.619 0 8.368-2.618 8.368-5.859v-1.523c0-1.142-.474-2.204-1.283-3.106z"
        opacity={0.7}
      />
      <path
        d="M14.173 13.001v3.105c0 2.74-3.166 4.965-7.085 4.965C3.175 21.072 0 18.852 0 16.107v3.106c1.474 1.65 4.097 2.752 7.088 2.752 4.619 0 8.368-2.617 8.368-5.858 0-1.141-.474-2.203-1.283-3.105z"
        opacity={0.25}
      />
      <ellipse cx={7.088} cy={16.106} rx={7.087} ry={4.961} opacity={0.25} />
      <path
        fill="#666"
        d="M2.203 16.107h.993v-3.012h2.82l3.996-4.29H3.407l-1.204.843zM11.215 9.034l-3.803 4.061h3.648v3.012h.914V8.524h-1.196z"
      />
      <path
        d="M14.173 13.001V7.088A7.087 7.087 0 1 0 0 7.088v13.65c1.474 1.65 4.097 2.752 7.088 2.752 4.619 0 8.368-2.618 8.368-5.86v-1.523c0-1.143-.474-2.204-1.283-3.106z"
        fill={color}
        opacity={0.65}
      />
      <g fill="#fff">
        <path
          d="m10.388 3.754 1.436-.273a5.772 5.772 0 0 0-3.541-2.239l.254 1.08a3.77 3.77 0 0 1 1.851 1.432zM.768 19.926v1.52c.649.53 1.434.976 2.308 1.317v-1.525a8.411 8.411 0 0 1-2.308-1.312zM11.073 20.21c-.256.122-.53.23-.806.33a9.703 9.703 0 0 1-1.973.453 1.99 1.99 0 0 1-.224.02c-.32.03-.644.057-.97.057-.149 0-.308-.015-.472-.023-1.2-.057-2.33-.315-3.298-.74V7.092a3.75 3.75 0 0 1 2.074-3.35L5.38 3.69 4.134 2.178a5.721 5.721 0 0 0-2.79 4.911v11.905a6.663 6.663 0 0 1-.48-.53l-.308.688c1.401 1.482 3.809 2.462 6.542 2.462 1.68 0 3.238-.374 4.512-1.002l-.527-.41-.01.008z"
          opacity={0.5}
        />
      </g>
      {lightOn && (
        <g className="light">
          <circle
            cx={8}
            cy={10}
            fill={lightColors[color] ?? 'white'}
            filter="url(#a)"
            opacity={opacity}
            r={10}
          />
          <circle cx={8} cy={10} fill="#fff" filter="url(#b)" r={2} />
          <circle cx={8} cy={10} fill="#fff" filter="url(#b)" opacity={opacity} r={3} />
        </g>
      )}
    </svg>
  );
}
